//>>built
define("davinci/review/model/resource/root",["dojo/_base/declare","davinci/model/resource/Resource","davinci/review/model/resource/Folder","davinci/Runtime","dojo/Deferred"],function(f,k,l,m,h){f=f(k,{constructor:function(a){this.elementType="ReviewRoot";this.name="root";this.parent=null},findFile:function(a,b){var d=new h;this.getChildren(function(g){var c=null;dojo.forEach(g,function(b){b.timeStamp==a&&(c=b)});var e=null;null!=c&&c.getChildren(function(a){dojo.forEach(a,function(a){this._fileNamesEqual(a.name,
b)&&(e=a)}.bind(this));d.resolve(e)}.bind(this))}.bind(this));return d},_fileNamesEqual:function(a,b){0!=a.indexOf("./")&&(a="./"+a);0!=b.indexOf("./")&&(b="./"+b);return a===b},findVersion:function(a,b){var d=new h;this.getChildren(function(g){var c=null;dojo.some(g,function(d){return d.designerId==a&&d.timeStamp==b?(c=d,!0):!1});d.resolve(c)});return d},getChildren:function(a,b){this._isLoaded?a(this.children):this._loading?this._loading.push(a):(this._loading=[],this._loading.push(a),m.serverJSONRequest({url:"cmd/listVersions",
load:dojo.hitch(this,function(a,b){this.children=[];for(var c=0;c<a.length;c++){var e=new l(dojo.mixin({name:a[c].versionTitle,parent:this},a[c]));this.children.push(e)}this._isLoaded=!0;dojo.forEach(this._loading,function(a){a(this.children)},this);delete this._loading})}))},getPath:function(){return".review/snapshot"}});return dojo.setObject("davinci.review.model.resource.root",new f)});
//# sourceMappingURL=root.js.map