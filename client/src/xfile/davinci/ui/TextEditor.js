//>>built
define("davinci/ui/TextEditor",["dojo/_base/declare","./Editor","../Runtime"],function(f,g,h){return f(g,{constructor:function(a,b){this.subscriptions=[];this._handles=[]},isActiveEditor:function(){return h.currentEditor==this},supports:function(a){return!1},handleChange:function(a){this.editorContainer&&this.editorContainer.setDirty(!0);this.isDirty=!0;this.lastModifiedTime=Date.now()},_onKey:function(a){davinci.Workbench.currentContext=this.editorID;return davinci.Workbench.handleKey(a)},subscribe:function(a,
b){this.subscriptions.push(dojo.subscribe(a,this,b))},destroy:function(){this.inherited(arguments);this.subscriptions.forEach(dojo.unsubscribe);this._handles.forEach(dojo.disconnect)},getDefaultContent:function(){return null},getErrors:function(){return[]},save:function(a){var b=this.getText();if(this.resourceFile){this.resourceFile.clearMarkers();for(var c=this.getErrors(),d=0;d<c.length;d++){var e;switch(c[d].id){case "(error)":e="error";break;case "(warning)":e="warning"}e&&this.resourceFile.addMarker(e,
c[d].line+1,c[d].reason)}this.resourceFile.setContents(b,a);this.editorContainer&&this.editorContainer.setDirty(a);this.isDirty=!1;this.lastModifiedTime=0}},supports:function(a){return!1},_connect:function(a,b,c){this._handles.push(dojo.connect(a,b,this,c))}})});
//# sourceMappingURL=TextEditor.js.map