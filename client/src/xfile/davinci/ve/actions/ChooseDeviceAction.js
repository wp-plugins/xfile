//>>built
require({cache:{"url:davinci/ui/templates/ChooseDevice.html":'\x3cdiv\x3e\n  \x3cselect dojoType\x3d"dijit.form.Select" dojoAttachPoint\x3d"select" style\x3d"width: 100%"\x3e\n  \x3c/select\x3e\n\x3c/div\x3e\n'}});
define("davinci/ve/actions/ChooseDeviceAction","dojo/_base/declare davinci/actions/Action dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin davinci/commands/CompoundCommand davinci/ve/commands/RemoveCommand ../../Workbench dojo/store/Memory dojo/text!../../ui/templates/ChooseDevice.html dojo/i18n!davinci/ve/nls/ve dojo/i18n!../../actions/nls/actions dojo/i18n!dijit/nls/common dijit/form/Select".split(" "),function(d,f,g,h,k,p,q,e,l,m,c,n,r){d("davinci.ve.actions.ChooseDeviceActionContent",
[g,h,k],{templateString:m,widgetsInTemplate:!0,select:null,device:null,deviceList:null,postCreate:function(){var a=new l({data:this.deviceList,idProperty:"name"});this.select.labelAttr="name";this.select.setStore(a);this.select.set("value",this.device)},getValue:function(){return this.select.get("value")}});return d("davinci.ve.actions.ChooseDeviceAction",[f],{run:function(a){if(this.isEnabled(null))if((a=davinci.Workbench.getOpenEditor())&&a.isDirty){var b=a.getOnUnloadWarningMessage();b||(b=dojo.string.substitute(c.filesHasUnsavedChanges,
[a.fileName]));e.showDialog({title:c.chooseDeviceSilhouette,content:b,style:{width:300},okCallback:dojo.hitch(this,this._okToSwitch),okLabel:"Save",hideLabel:null})}else this._okToSwitch()},_okToSwitch:function(){var a=davinci.Workbench.getOpenEditor();a.isDirty&&a.save();this.showDevices()},isEnabled:function(a){return"davinci.ve.PageEditor"==davinci.Workbench.getOpenEditor().declaredClass},showDevices:function(){var a=davinci.Workbench.getOpenEditor().getContext().visualEditor.deviceName,b=new davinci.ve.actions.ChooseDeviceActionContent({device:a,
deviceList:[{name:"none"},{name:"iphone"},{name:"ipad"},{name:"android_340x480"},{name:"android_480x800"},{name:"androidtablet"},{name:"blackberry"}]});e.showDialog({title:c.chooseDeviceSilhouette,content:b,style:{width:300},okCallback:dojo.hitch(this,function(){var a=davinci.Workbench.getOpenEditor();a.getContext().visualEditor.setDevice(b.getValue());a._visualChanged()}),okLabel:n.select})}})});
//# sourceMappingURL=ChooseDeviceAction.js.map