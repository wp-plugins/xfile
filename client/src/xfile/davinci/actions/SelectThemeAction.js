//>>built
define("davinci/actions/SelectThemeAction","dojo/_base/declare ./Action ../ui/widgets/ThemeSetSelection ../ve/commands/ChangeThemeCommand dojo/i18n!davinci/actions/nls/actions davinci/Workbench".split(" "),function(d,e,f,g,c,h){return d("davinci.actions.SelectThemeAction",e,{run:function(a){if((a=davinci.Workbench.getOpenEditor())&&a.isDirty){var b=a.getOnUnloadWarningMessage();b||(b=dojo.string.substitute(c.filesHasUnsavedChanges,[a.fileName]));h.showDialog({title:c.switchingThemes,content:b,style:{width:300},
okCallback:dojo.hitch(this,this._okToSwitch),okLabel:c.save,hideCancel:null})}else this._okToSwitch()},_okToSwitch:function(){var a=davinci.Workbench.getOpenEditor();a.isDirty&&a.save();var b=a.getContext().getTheme(),a=a.getContext().getDojo().version.major+"."+a.getContext().getDojo().version.minor;this._themeChooser=new f({value:b,workspaceOnly:!1,dojoVersion:a});this._themeChooser.buildRendering()},_changeTheme:function(){var a=this._themeChooser.attr("value");this._themeChooser.onClose();this._themeChooser.destroy();
var b=davinci.Workbench.getOpenEditor();b&&b.getContext&&b.getContext().getCommandStack().execute(new g(a,b.getContext()))}})});
//# sourceMappingURL=SelectThemeAction.js.map