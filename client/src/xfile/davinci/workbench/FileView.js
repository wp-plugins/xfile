//>>built
define("davinci/workbench/FileView","dojo/_base/declare dojo/_base/lang dojo/dom-class ./ViewPart ../Workbench ../ui/widgets/OutlineTree dijit/layout/ContentPane xide/utils xide/types xfile/factory xfile/views/FilePanel xfile/widgets/ActionToolbarEmbedded xide/widgets/_CSSMixin xide/mixins/EventedMixin".split(" "),function(f,g,d,h,r,s,k,e,c,l,m,n,p,q){return f([h,p,q],{cssClass:"xFileView",buildRendering:function(){this.inherited(arguments)},addFilePanel:function(){if(!this.treeView){this.containerNode.style.top=
"60px";e.destroyWidget(this.titleBarDiv);var a=window.xFileContext,b=this.getXFileOptions(),c={cookiePrefix:"left",url:"./",region:"left",closable:!0,config:b,className:"xfileContainerEmbedded filePanel ui-state-default",ctx:a,lazy:!1,store:b.store,delegate:a.getPanelManager(),panelManager:a.getPanelManager(),style:"height:inherit;"};this.treeView=e.addWidget(m,c,a.getPanelManager(),this.containerNode,!0);this.actionToolbar=new n({delegate:a.getPanelManager(),ctx:a.getPanelManager(),config:b,useElusive:!0},
dojo.doc.createElement("div"));d.add(this.actionToolbar.domNode,"actionToolbarEmbedded");this.toolbarDiv.appendChild(this.actionToolbar.domNode);this.actionToolbar.startup();d.add(this.domNode,"xFileView")}},startup:function(){this.inherited(arguments);this.toolbarDiv.innerHTML="";var a=this;setTimeout(function(){console.error("##################                         start file view");a.addFilePanel()},8E3)},constructor:function(a,b){this.subscribe("/davinci/ui/editorSelected",this.editorChanged);
this.subscribe("/davinci/ui/context/pagerebuilt",this._pageRebuilt)},getXFileOptions:function(){var a=window.xFileContext,b=l.cloneConfig(a.config),a={cookiePrefix:"xfiles",store:a.getStore("workspace",{fields:1663}),sources:[],delegate:a.getPanelManager()},b=g.mixin(b,a),a={};a[c.FILE_GRID_COLUMNS.NAME]=!0;a[c.FILE_GRID_COLUMNS.SIZE]=!1;a[c.FILE_GRID_COLUMNS.MODIFIED]=!1;b.columnFlags=a;return b},editorChanged:function(a){},createTree:function(){this.container=new k({style:"padding:0"});this.subcontainer=
dojo.doc.createElement("div");this.container.domNode.appendChild(this.subcontainer);this.setContent(this.container)},_getViewContext:function(){return this.outlineProvider},selectionChanged:function(a){},_pageRebuilt:function(){},modelChanged:function(a){}})});
//# sourceMappingURL=FileView.js.map