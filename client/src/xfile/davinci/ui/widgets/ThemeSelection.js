//>>built
define("davinci/ui/widgets/ThemeSelection","dojo/_base/declare dijit/_Widget davinci/library davinci/Runtime davinci/Workbench system/resource dojo/i18n!davinci/ui/nls/ui dojo/i18n!dijit/nls/common".split(" "),function(d,e,f,h,g,k,l,m){return d("davinci.ui.widgets.ThemeSelection",[e],{workspaceOnly:!0,message:"Theme version does not match workspace version this could produce unexpected results. We suggest recreating the custom theme using the current version of Maqetta and deleting the existing theme.",
buildRendering:function(){var a=dojo.doc.createElement("div");this._select=dojo.doc.createElement("select");a.appendChild(this._select);this._warnDiv=dojo.doc.createElement("div");a.appendChild(this._warnDiv);this.domNode=a;dojo.style(this._select,"width","180px");dojo.style(this.domNode,"width","100%");dojo.connect(this._select,"onchange",this,"_onChange")},postCreate:function(){this._themeData=f.getThemes(g.getProject(),this.workspaceOnly);this._themeCount=this._themeData.length;for(var a=0;a<this._themeData.length;a++){var b=
dojo.doc.createElement("option");b.value=this._themeData[a].name;b.text=this._themeData[a].name;this._select.appendChild(b)}this._selection&&this._selectValue(this._selection)},_setBaseAttr:function(a){this._base=a},_getBaseAttr:function(){return this._base},_getNumberOfThemesAttr:function(){return this._themeCount},_setValueAttr:function(a){if(this._hasValue(a)){if((this._selection=a)&&a.name)this._selection=a.name;this._selectValue(this._selection)}},_hasValue:function(a){for(var b=0;b<this._select.children.length;b++)if(this._select.children[b].value==
a)return!0;return!1},_selectValue:function(a){for(var b=!1,c=0;c<this._select.children.length;c++)this._select.children[c].selected&&(this._select.children[c].selected=!1),!b&&this._select.children[c].value==a&&(b=this._select.children[c].selected=!0);!b&&null!=a&&(b=dojo.doc.createElement("option"),b.value=a,b.text=a,b.selected=!0,this._select.appendChild(b))},_getValueAttr:function(){for(var a=dojo.attr(this._select,"value"),b=0;b<this._themeData.length;b++)if(this._themeData[b].name==a)return this._themeData[b];
return null},_setWorkspaceOnlyAttr:function(a){this.workspaceOnly=a},onChange:function(){},_onChange:function(){var a=this._getValueAttr();if(!(null==a||this._blockChange)){this.value=a;this._cookieName="maqetta_"+a.name+"_"+a.version;var b=dojo.cookie(this._cookieName);if(this.dojoVersion&&a.version!==this.dojoVersion&&!b)this._warnDiv.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e"+this.message+'\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd align\x3d"center"\x3e\x3cbutton data-dojo-type\x3d"dijit.form.Button" type\x3d"button" id\x3d"davinci.ui.widgets.ThemeSelection.ok"\x3eOk\x3c/button\x3e\x3cbutton data-dojo-type\x3d"dijit.form.Button" type\x3d"button" id\x3d"davinci.ui.widgets.ThemeSelection.cancel"\x3eCancel\x3c/button\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e',
a=dijit.byId("davinci.ui.widgets.ThemeSelection.ok"),b=dijit.byId("davinci.ui.widgets.ThemeSelection.cancel"),dojo.connect(a,"onClick",this,"_warnOk"),dojo.connect(b,"onClick",this,"_warnCancel");else this.onChange()}},_getThemeDataAttr:function(){return this._themeData},_warnOk:function(){dojo.cookie(this._cookieName,"true");this._destroy();this.onChange()},_warnCancel:function(){this._destroy();this.onClose()},_destroy:function(){var a=dijit.byId("davinci.ui.widgets.ThemeSelection.ok");dojo.disconnect(a);
a.destroy();a=dijit.byId("davinci.ui.widgets.ThemeSelection.cancel");dojo.disconnect(a);a.destroy()}})});
//# sourceMappingURL=ThemeSelection.js.map