//>>built
require({cache:{"url:davinci/ui/templates/NewProjectTemplate.html":'\x3cdiv\x3e\n\t\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n\t\t\x3ctable class\x3d"NewProjectTemplateDialogTable"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d"NewProjectTemplateDialogLabel"\x3e${newProjectTemplateName}\x3c/td\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3cinput class\x3d\'templateInput\' data-dojo-type\x3d"dijit.form.ComboBox" type\x3d\'text\' dojoAttachPoint\x3d"_projectTemplateName"\x3e\x3c/input\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr class\x3d"NewProjectTemplateShareRow"\x3e\n\t\t\t\x3ctd colspan\x3d"2" class\x3d"NewProjectTemplateShareCell"\x3e\n\t\t\t\t\x3cinput id\x3d"NewProjectTemplateShare" data-dojo-type\x3d"dijit.form.CheckBox" dojoAttachPoint\x3d"_projectTemplateShare"\x3e\x3c/input\x3e\n\t\t\t\t\x3clabel for\x3d"NewProjectTemplateShare" class\x3d"newProjectTemplateShareLabel"\x3e${newProjectTemplateShareLabel}\x3c/label\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3c/table\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n\t\t\x3cbutton dojoType\x3d\'dijit.form.Button\' dojoAttachPoint\x3d"_okButton" dojoAttachEvent\x3d\'onClick:okButton\' label\x3d\'${save}\' class\x3d"maqPrimaryButton" type\x3d"submit" disabled\x3e\x3c/button\x3e\n\t\t\x3cbutton dojoType\x3d\'dijit.form.Button\' dojoAttachEvent\x3d\'onClick:cancelButton\' label\x3d\'${buttonCancel}\' class\x3d"maqSecondaryButton"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\t\t\n\x3c/div\x3e\n'}});
define("davinci/ui/NewProjectTemplate","dojo/_base/declare dojo/_base/lang dijit/_Templated dijit/_Widget davinci/library system/resource davinci/workbench/Preferences davinci/Runtime davinci/Workbench davinci/ui/ProjectTemplates dojo/i18n!davinci/ui/nls/ui dojo/i18n!dijit/nls/common dojo/text!./templates/NewProjectTemplate.html dijit/form/Button dijit/form/ComboBox dijit/form/CheckBox dojo/store/Memory".split(" "),function(r,h,k,l,s,t,u,m,v,n,f,p,q,w,x,y,g){return dojo.declare("davinci.ui.NewProjectTemplate",
[l,k],{widgetsInTemplate:!0,templateString:q,_okButton:null,_projectTemplateName:null,_projectTemplateList:[],postMixInProperties:function(){dojo.mixin(this,f);dojo.mixin(this,p);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);dojo.connect(this._projectTemplateName,"onChange",this,"_checkValid");n.getIncremental(1E3,function(a,b,c){this._updateStore(a,b);return!1}.bind(this));var a=new g({data:[]});this._projectTemplateName.set("store",a);this._projectTemplateName.set("regExp",
"^[A-Za-z0-9.-]+$");this._projectTemplateName.set("intermediateChanges",!0);this._projectTemplateName.focus()},_updateStore:function(a,e){var b=[];this._projectTemplateList=[];for(var c=0;c<a.length;c++){var d=a[c];d.folder&&d.name&&(b.push({name:d.name,id:d.folder}),this._projectTemplateList.push(d))}b=new g({data:b});this._projectTemplateName.set("store",b);if(!e.enableProjectSharingAll&&(b=document.querySelector(".NewProjectTemplateShareRow")))b.style.display="none"},_checkValid:function(){var a=
this._projectTemplateName.isValid();this._okButton.set("disabled",!a);this._projectTemplateName._refreshState()},okButton:function(){var a=this._projectTemplateName.get("value"),e=!0,b=m.getUserEmail();if(0<this._projectTemplateList.length)for(var c=0;c<this._projectTemplateList.length;c++){var d=this._projectTemplateList[c];if(d.name==a&&d.authorEmail==b){e=h.replace(f.newProjectTemplateOverwrite,[a]);e=confirm(e);break}}if(e){var g=this._projectTemplateShare.get("value");require(["davinci/ui/ProjectTemplates"],
function(b){b.create({projectTemplateName:a,sharingSimple:"on"==g?"all":"none"}).success?alert(h.replace(f.newProjectTemplateCreationSuccess,[a])):alert(h.replace(f.newProjectTemplateCreationFailure,[a]))})}else alert(f.newProjectTemplateCancelled)},_getValueAttr:function(){return this.value},cancelButton:function(){this.cancel=!0;this.onClose()},onClose:function(){}})});
//# sourceMappingURL=NewProjectTemplate.js.map