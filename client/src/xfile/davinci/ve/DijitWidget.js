//>>built
define("davinci/ve/DijitWidget","require dojo/_base/declare dojo/_base/window dojo/_base/lang dojo/dom-attr dojo/parser ./_Widget ./metadata".split(" "),function(e,h,l,m,g,n,k,p){return h("davinci.ve.DijitWidget",k,{isDijitWidget:!0,constructor:function(a,c,b,d,f,e){"string"===typeof b?(!g.get(c,"data-dojo-type")&&!g.get(c,"dojoType")&&g.set(c,"data-dojo-type",b),f&&f.addAttribute("data-dojo-type",b),b=c.ownerDocument,f=b.defaultView,(d=b.__DijitWidgetScratchSpace)||(d=b.__DijitWidgetScratchSpace=
b.createElement("div")),d.appendChild(c),b=f.require("dojo/parser").instantiate([c],a,{noStart:!0})[0],d.firstChild&&d.removeChild(d.firstChild),this.domNode=b.domNode,b.domNode._dvWidget=this,this.isLayoutContainer=b.isLayoutContainer):this.type=e?e.replace(/\./g,"/"):b.declaredClass.replace(/\./g,"/");a=davinci.ve.metadata.getAllowedChild(this.type);this.acceptsHTMLChildren="ANY"===a[0]||-1!==a.toString().toUpperCase().indexOf("HTML");this.dijitWidget=b;this.containerNode=b.containerNode;this.styleNode=
b.styleNode;this.id=b.id},getParent:function(){if(this.dijitWidget&&this.dijitWidget.domNode&&this.dijitWidget.domNode.parentNode){var a=e("davinci/ve/widget"),c=this.dijitWidget;do c=a.getEnclosingWidget(c.domNode.parentNode);while(c&&c.dijitWidget&&"_"==c.dijitWidget.declaredClass.split(".").pop().charAt(0));return c}},_getChildren:function(a){if(this.acceptsHTMLChildren)return this.inherited(arguments);var c=[];"NONE"!==davinci.ve.metadata.getAllowedChild(this.type)[0]&&this.dijitWidget.getChildren().forEach(function(b){b._maqNotDVWidget||
(a?c.push(e("davinci/ve/widget").getWidget(b.domNode)):(b=b.domNode&&b.domNode._dvWidget)&&c.push(b))});return c},_getContainerNode:function(){return this.containerNode||this.domNode},selectChild:function(a){this.dijitWidget.selectChild&&this.dijitWidget.selectChild(a.dijitWidget)},_addChildToDom:function(a,c){if(this.acceptsHTMLChildren){this.inherited(arguments);var b=a.dijitWidget;b&&(this.dijitWidget._started&&!b._started)&&a.startup()}else this.dijitWidget.addChild(a.dijitWidget,c)},_removeChildFromDom:function(a){this.dijitWidget.removeChild&&
a.dijitWidget?this.dijitWidget.removeChild(a.dijitWidget):this.inherited(arguments)},_getPropertyValue:function(a){return this.dijitWidget.get(a)},startup:function(){this.dijitWidget.startup()},isLayout:function(){var a=this.getContext().getDijit();return this.dijitWidget.isInstanceOf(a.layout._LayoutWidget)},resize:function(){var a=this.getHelper();a&&a.resize?a.resize(this):this.dijitWidget.resize&&this.dijitWidget.resize()},renderWidget:function(){if(this.dijitWidget.render)this.dijitWidget.render();
else if(this.dijitWidget.chart){var a=dojo.marginBox(this.dijitWidget.domNode);this.dijitWidget.resize(a)}this.domNode.parentNode._dvWidget&&this.domNode.parentNode._dvWidget.isDijitWidget&&this._refresh(this.domNode.parentNode)},_refresh:function(a){var c=a.parentNode;c._dvWidget&&c._dvWidget.isDijitWidget?this._refresh(c):a._dvWidget.resize&&a._dvWidget.resize()},_attr:function(a,c){return this.dijitWidget.get.apply(this.dijitWidget,arguments)}})});
//# sourceMappingURL=DijitWidget.js.map