//>>built
define("davinci/ve/widgets/ColorPickerFlat","dojo/_base/declare dijit/_Widget dijit/TooltipDialog dijit/form/Button dojox/widget/ColorPicker dojo/i18n!davinci/ve/nls/ve dojo/i18n!dijit/nls/common".split(" "),function(e,l,m,f,n,p,k){e=e("davinci.ve.widgets.ColorPickerFlat",[l],{numberDelta:1,insertPosition:1,data:null,postCreate:function(){this.inherited(arguments);var a=dojo.doc.createElement("div");this._colorPicker=new n({});a.appendChild(this._colorPicker.domNode);var c=dojo.doc.createElement("div"),
b=f({label:k.buttonOk});b.innerHtml="OK";c.appendChild(b.domNode);var g=f({label:k.buttonCancel});c.appendChild(g.domNode);a.appendChild(c);this.domNode.appendChild(a);dojo.connect(b,"onClick",this,"_onOk");dojo.connect(g,"onClick",this,"onCancel");delete this.canceled},onClose:function(){},onCancel:function(){this._value=null;this.canceled=!0},_onOk:function(){delete this.canceled;this._value=this._colorPicker.get("value");this.onClose()},_getValueAttr:function(){return this._value},_setValueAttr:function(a){a=
new dojo.Color(a);this._colorPicker.setColor(a.toHex())}});return dojo.mixin(e,{show:function(a,c,b,g){var d=new m({id:"maqetta_prop_tooltip_color_picker",title:p.selectColor,content:a});dijit.popup.moveOffScreen(d.domNode);var e=!1,h=function(a){return function(){e&&(e=!1,dijit.popup.close(d))}}();d.connect(a,"onCancel",h);d.connect(a,"onClose",h);var f=dijit.byNode(dojo.query("[widgetId]",d.domNode)[0]);c in dojo.Color.named?(c=dojo.colorFromString(c),a.set("value",c.toHex())):a.set("value",c||
"",!0);(function(a){return function(){dijit.popup.open({parent:b,popup:d,around:b.domNode,orient:g?{BL:"TL",BR:"TR",TL:"BL",TR:"BR"}:{BR:"TR",BL:"TL",TR:"BR",TL:"BL"},onClose:function(){f.canceled||(b._colorPickerFlat_comboBoxUpdateDueTo&&(b._comboBoxUpdateDueTo=b._colorPickerFlat_comboBoxUpdateDueTo),b.get("value"),b.set("value",f.get("value")));h();d.destroy()}});e=!0;dijit.focus(d.containerNode)}})()()}})});
//# sourceMappingURL=ColorPickerFlat.js.map