//>>built
define("davinci/html/CSSRule",["dojo/_base/declare","davinci/html/CSSElement","davinci/html/CSSParser","davinci/html/CSSProperty"],function(f,g,h,d){return f("davinci.html.CSSRule",g,{constructor:function(){this.elementType="CSSRule";this.selectors=[];this.properties=[]},getText:function(b){var a="";b=b||[];this.comment&&!b.noComments&&(a+=this.comment.getText(b));for(var a=a+this.getSelectorText(b),a=a+" {",c=0;c<this.properties.length;c++)a=a+"\n    "+this.properties[c].getText(b);a+="\n}\n";this.postComment&&
!b.noComments&&(a+=this.postComment.getText(b));return a},setText:function(b){require("davinci/html/CSSParser").parse(b,this);dojo.mixin(this,this.children[0]);this.startOffset=(this.parent?this.parent.endOffset:0)+1;this.setDirty(!0)},addProperty:function(b,a){var c=new d(b,a,this);this.properties.push(c);this.setDirty(!0);this.onChange()},insertProperty:function(b,a,c){var e;(e=this.getProperty(b))&&this.removeProperty(b);e=new d(b,a,this);this.properties.splice(c,0,e);this.setDirty(!0);this.onChange()},
getSelectorText:function(b){for(var a="",c=0;c<this.selectors.length;c++)0<c&&(a+=", "),a+=this.selectors[c].getText(b);return a},matches:function(b){b=this._convertNode(b);for(var a,c=0;c<this.selectors.length;c++)if(0<=(a=this.selectors[c].matches(b)))return a},visit:function(b){if(!b.visit(this)){for(var a=0;a<this.children.length;a++)this.children[a].visit(b);for(a=0;a<this.selectors.length;a++)this.selectors[a].visit(b)}b.endVisit&&b.endVisit(this)},hasSelector:function(b){for(var a=0;a<this.selectors.length;a++)if(this.selectors[a].getLabel()==
b)return!0;return!1},matchesSelectors:function(b){for(var a=0;a<b.length;a++)for(var c=0;c<this.selectors.length;c++)if(this.selectors[c].matchesSelector(b[a]))return!0;return!1},getCSSRule:function(){return this},getLabel:function(){return this.getSelectorText({})},getProperty:function(b){for(var a=0;a<this.properties.length;a++)if(b==this.properties[a].name)return this.properties[a]},hasProperty:function(b){for(var a=0;a<this.properties.length;a++)if(b==this.properties[a].name)return!0},getProperties:function(b){for(var a=
[],c=0;c<this.properties.length;c++)(!b||b==this.properties[c].name)&&a.push(this.properties[c]);return a},setProperty:function(b,a){var c=this.getProperty(b);a?c?c.value=a:(c=new d,c.name=b,c.value=a,this.properties.push(c),c.parent=this):this.removeProperty(b);this.setDirty(!0);this.onChange()},removeProperty:function(b){for(var a=0;a<this.properties.length;a++)b==this.properties[a].name&&this.properties.splice(a,1);this.setDirty(!0);this.onChange()},removeAllProperties:function(){this.properties=
[];this.setDirty(!0);this.onChange()},removeStyleValues:function(b){for(var a=[],c=0;c<this.properties.length;c++){for(var e,d=0;d<b.length&&!e;d++)e=b[d]==this.properties[c].name;e||(a=this.properties[c])}this.properties=a;this.setDirty(!0);this.onChange()}})});
//# sourceMappingURL=CSSRule.js.map