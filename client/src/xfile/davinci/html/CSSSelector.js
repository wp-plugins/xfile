//>>built
define("davinci/html/CSSSelector",["require","dojo/_base/declare","davinci/html/CSSElement"],function(k,c,l){c=c("davinci.html.CSSSelector",l,{constructor:function(){this.elementType="CSSSelector"},matchesSelector:function(a){if(a.elementType==this.elementType&&this.id==a.id&&this.cls==a.cls&&this.element==a.element&&this.pseudoRule==a.pseudoRule)return!0},getText:function(a){a="";this.element&&(a+=this.element);this.id&&(a=a+"#"+this.id);this.cls&&(a=a+"."+this.cls);this.pseudoRule&&(a=a+":"+this.pseudoRule);
this.pseudoElement&&(a=a+"::"+this.pseudoElement);this.attribute&&(a=a+"["+this.attribute.name,this.attribute.type&&(a=a+this.attribute.type+'"'+this.attribute.value+'"'),a+="]");return a},matches:function(a,c){var b=a[c||0],d=0,e=!1;if(this.id){if(this.id!=b.id)return-1;d+=100;e=!0}if(this.element){if("*"!=this.element){if(this.element!=b.tagName&&this.element.toUpperCase()!=b.tagName)return-1;d+=1}e=!0}if(this.cls&&b.classes){b=b.classes;if(0<=this.cls.indexOf(".")){for(var e=this.cls.split("."),
h=0;h<e.length;h++){for(var g=!1,f=0;f<b.length&&!(g=b[f]==e[h]);f++);if(!g)return-1}d+=10*e.length}else{g=!1;for(f=0;f<b.length&&!(g=b[f]==this.cls&&!this.pseudoRule);f++);if(!g)return-1;d+=10}e=!0}return e?d:-1},getCSSRule:function(){return"CSSRule"==this.parent.elementType?this.parent:this.parent.parent}});c.parseSelectors=function(a){if("string"==typeof a){a+="{}";var c=new (k("davinci/html/CSSFile"));c.setText(a);return c.children[0].selectors}return a};return c});
//# sourceMappingURL=CSSSelector.js.map