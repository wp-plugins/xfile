//>>built
define("davinci/ve/actions/DuplicateAction","dojo/_base/declare dojo/dom-style davinci/ve/actions/ContextAction davinci/commands/CompoundCommand davinci/ve/commands/AddCommand davinci/ve/commands/MoveCommand davinci/ve/tools/CreateTool davinci/ve/widget davinci/ve/utils/GeomUtils".split(" "),function(g,h,k,l,m,n,p,q,r){return g("davinci.ve.actions.DuplicateAction",[k],{run:function(a){if((a=this.fixupContext(a))&&"davinci.ve.Context"===a.declaredClass){var c=this._normalizeSelection(a);if(this.selectionSameParent(c)){var d=
[];if(0<c.length){var f=new l;dojo.forEach(c,function(b){var e,c=b.getData({identify:!1});if(c&&(c.context=a,dojo.withDoc(a.getDocument(),function(){e=q.createWidget(c)},this),e&&(f.add(new m(e,b.getParent(),void 0)),p.prototype.checkAddToCurrentState(f,e),d.push(e),"absolute"==(b&&b.domNode?h.get(b.domNode,"position"):null))))b=r.getMarginBoxPageCoords(b.domNode),b.l+=25,f.add(new n(e,b.l,b.t,void 0,void 0,void 0,!0))});a.getCommandStack().execute(f);dojo.forEach(d,function(b,c){a.select(b,0<c)},
this)}}}},isEnabled:function(a){a=(a=this.fixupContext(a))&&a.getSelection?a.getSelection():[];return 0===a.length?!1:this.selectionSameParent(a)},shouldShow:function(a){return(a=(a=this.fixupContext(a))?a.editor:null)&&"davinci.ve.PageEditor"==a.declaredClass},selectionSameParent:function(a){if(0===a.length)return!1;for(var c=a[0].getParent(),d=0;d<a.length;d++)if(a[d].getParent()!=c)return!1;return!0}})});
//# sourceMappingURL=DuplicateAction.js.map