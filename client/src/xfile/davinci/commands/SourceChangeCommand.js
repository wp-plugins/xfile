//>>built
define("davinci/commands/SourceChangeCommand",["dojo/_base/declare","davinci/Runtime"],function(d,c){return d("davinci.commands.SourceChangeCommand",null,{name:"SourceChange",constructor:function(a){this._model=a.model;this._oldText=a.oldText;this._newText=a.newText},incrementalUpdate:function(a){this._newText=a.newText},execute:function(){this._model.setText(this._newText);dojo.publish("/davinci/ui/modelChanged",[{newModel:this._model}]);var a=c.currentEditor;"davinci.ve.PageEditor"==a.declaredClass&&
a.handleChange&&require(["davinci/ve/PageEditor"],function(b){b.prototype._srcChanged.call(a,this._newText)}.bind(this));if(!this.established)return this.established=!0},undo:function(){this._model.setText(this._oldText);dojo.publish("/davinci/ui/modelChanged",[{newModel:this._model}]);var a=c.currentEditor;"davinci.ve.PageEditor"==a.declaredClass&&a.handleChange&&require(["davinci/ve/PageEditor"],function(b){b.prototype._srcChanged.call(a,this._oldText)}.bind(this))}})});
//# sourceMappingURL=SourceChangeCommand.js.map