//>>built
define("davinci/ve/commands/ModifyAttributeCommand",["dojo/_base/declare","davinci/ve/widget","davinci/ve/States"],function(h,k,g){return h("davinci.ve.commands.ModifyAttributeCommand",null,{name:"ModifyAttributeCommand",constructor:function(a,c){this._newValues=c;this._id=a?a.id:void 0},add:function(a){a&&a._id==this._id&&a._newValues&&dojo.mixin(this._newValues,a._newValues)},execute:function(){if(this._id&&this._newValues){var a=davinci.ve.widget.byId(this._id);if(a&&a.domNode&&a._srcElement){var c=
a.domNode,e=a._srcElement;this._oldValues={};for(var b in this._newValues){var f=c.hasAttribute(b);this._oldValues[b]=f?c.getAttribute(b):null;var d=this._newValues[b];"string"==typeof d?(c.setAttribute(b,d),e.setAttribute(b,d)):null===d&&f&&(c.removeAttribute(b),e.removeAttribute(b))}a.refresh();g.resetState(a.domNode)}}},undo:function(){if(this._id&&this._oldValues){var a=davinci.ve.widget.byId(this._id);if(a&&a.domNode&&a._srcElement){var c=a.domNode,e=a._srcElement,b;for(b in this._oldValues){var f=
c.hasAttribute(b),d=this._oldValues[b];"string"==typeof d?(c.setAttribute(b,d),e.setAttribute(b,d)):null===d&&f&&(c.removeAttribute(b),e.removeAttribute(b))}a.refresh();g.resetState(a.domNode)}}}})});
//# sourceMappingURL=ModifyAttributeCommand.js.map