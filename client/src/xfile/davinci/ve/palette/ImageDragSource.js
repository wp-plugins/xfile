//>>built
define("davinci/ve/palette/ImageDragSource","dojo/_base/declare davinci/ve/tools/CreateTool davinci/ui/dnd/DragManager davinci/ve/metadata davinci/model/Path davinci/Workbench".split(" "),function(d,e,b,f,h,g){return d("davinci.ve.palette.ImageDragSource",null,{constructor:function(a){this.data=a},initDrag:function(){var a=g.getOpenEditor();if(a&&a.currentEditor&&a.currentEditor.context){if(this.context=a.currentEditor.context,b.document=this.context.getDocument(),a=this.context.frameNode){var a=
dojo.coords(a),c=this.context.getContainerNode();b.documentX=a.x-c.scrollLeft;b.documentY=a.y-c.scrollTop}}else this.context=null},dragStart:function(){if(this.context){var a;a={children:[],properties:{src:"http://192.168.1.37:81/xapp-commander-standalone/docroot//client//themes//default//images/mimes/16/image.png"},type:"html.img",fileDragCreate:!0};f.getHelper(a.type,"tool").then(function(c){c=new (c||e)(a);this.context.setActiveTool(c)}.bind(this))}},dragEnd:function(){this.context&&this.context.setActiveTool(null)},
createDragClone:function(){var a=dojo.create("img",{src:this.data.getURL()});dojo.connect(a,"onload",dojo.hitch(this,function(a){a=a.target;var b=a.style;b.width=a.naturalWidth+"px";b.height=a.naturalHeight+"px"}));return a}})});
//# sourceMappingURL=ImageDragSource.js.map